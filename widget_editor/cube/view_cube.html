<html>
<head>
<style>
body {margin: 0; padding: 0; }

</style>
<link rel="stylesheet" type="text/css" href="../../htmlplayer/css/jquery-ui.css"/>
<link rel="stylesheet" type="text/css" href="../../htmlplayer/css/cube-stylesheet.css"/>
<script src="../../htmlplayer/js/jquery/jquery.js"></script>
<script src="../../htmlplayer/js/jquery/jquery-ui.js"></script>
<script src="../../htmlplayer/js/jquery/jquery.qrcode-0.12.0.js"></script>

<script src="../../htmlplayer/js/createjs-2015.05.21.min.js"></script>
<script src="../../htmlplayer/js/dac/widget_background.js"></script>

<script src="../../htmlplayer/js/util/pixi.min.js"></script>
<script src="../../htmlplayer/js/dac/dac_pixi.js"></script>
<script src="../../htmlplayer/js/three.js"></script>
<script src="../../htmlplayer/js/ColladaLoader.js"></script>
<script src="../../htmlplayer/js/dac/dac_util.js"></script>
<script src="../../htmlplayer/templates/template_base.js?t=1"></script>
<script src="../../htmlplayer/templates/cube/template_cube.js"></script>

<script src="../../htmlplayer/js/threex.dynamictexture.js"></script>
<script src="../../htmlplayer/js/threex.dynamictext2dobject"></script>


<script src="../../htmlplayer/js/greensock/TweenMax.min.js"></script>
<script src="../../htmlplayer/js/greensock/TweenLite.min.js"></script>
<script src="../../htmlplayer/js/greensock/TimelineMax.min.js"></script>
<script src="../../htmlplayer/js/greensock/jquery.gsap.min.js"></script>

</head>

<body>

<script>
    var m_template = new TemplateCube(1);
    var m_fullWidget;



    $(document).ready(function(){
        var ready = eval('typeof parent.initEditViewContent') === 'function' || false;
        if (ready)
            parent.initEditViewContent();
        else
            setTimeout(function(){ parent.initEditViewContent(); }, 500);
    });


    // call this one the first time
    function initEditView(fullWidget)
    {
        m_fullWidget = fullWidget;
        m_template.initEditView(fullWidget)
    }

    function resizeEditView(fullWidget)
    {
        m_fullWidget = fullWidget;
        m_template.resizeEditView(fullWidget)
    }

    // call this one when variables in the editor have changed
    function updateEditView(fullWidget, fieldName, value)
    {
        m_fullWidget = fullWidget;
        m_fullWidget["widget"]["dac_widget"]["content"][fieldName] = value;
        m_template.updateEditView(fullWidget, fieldName, value);

    }

    function updateEditorVariable(fieldName, value)
    {
        console.log(fieldName, value);
        m_fullWidget["widget"]["dac_widget"]["content"][fieldName] = value;
        parent.updateEditorContent(m_fullWidget);
    }

    function animate()
    {
        m_template.animate();
    }
</script>

<div id="canvas-container"></div>
<audio id="bg_audio" src=""></audio>
</body>